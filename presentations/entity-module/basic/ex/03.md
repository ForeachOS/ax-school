## Oefening 3
### Default entity views configureren
        
* Property tekst wijzigingen:

  * Verander "name" naar "name of buyer"
  * Voeg een tekst toe bij ticket type onder de control: Selecting a different ticket type may incur a price raise.
  * Voeg een tooltip toe bij datum: Date and time when the booking was requested.
  * Email placeholder tekst toevoegen: Enter a valid email address.

* Ticket type hoeven we niet te zien op de list view, list view default sorteren op created met meest recente bovenaan
* Created date als verplicht aanduiden, maar mag enkel gezet worden op het create booking formulier en moet readonly aanwezig zijn op het update form. De tooltip willen we ook enkel zien op de created form.
* Voeg titel "Booking overview" toe op de overzichtspagina
* Verander general tab naar "Details"
* Menu wijzigen: menu item "BookingApplicationModule" â†’ Studio Across
* Maak van Studio Across een top-level menu item, niet meer onder "Entity management"
* Link voor booking altijd naar de detail view ipv naar het update formulier.
----
### Tips en opmerkingen
* Alle default teksten worden via message codes bepaald. Je moet het format van de message code en de juiste entity prefix weten om de message code samen te stellen.
** De online documentatie biedt een overzicht van de message code formaten.
* Via een EntityConfigurer kan je de volledige configuratie voor alles van Booking aanpassen.
* Via Developer tools kan je de namen vinden van entity configurations, views, associaties etc.
** Je vindt er ook de message prefixes die gebruikt worden voor een view.
* De menu structuur wordt opgebouwd volgens een vast patroon: /entities/MODULE_NAME/ENTITY_CONFIGURATION_NAME. Het registreren van deze menu items gebeurt in de EntityModule.

### Relevante documentatie

*  [Properties wijzigen](https://across-docs.foreach.be/across-site/production/entity-module/3.2.0/customizing-entities/index.html#_configuring_properties)
*  [Selecteren properties:](https://across-docs.foreach.be/across-site/production/entity-module/3.2.0/customizing-entities/entity-views.html#_selecting_properties)
*  [Aanpassen list-views](https://across-docs.foreach.be/across-site/production/entity-module/3.2.0/building-views/list-view.html)
*  [PropertyView types](https://across-docs.foreach.be/across-site/production/entity-module/3.2.0/property-controls/index.html)
*  [Link naar detail view](https://across-docs.foreach.be/across-site/production/entity-module/3.2.0/building-views/security-and-permissions.html#_actions_for_default_views)
*  [Titel voor een pagina](https://across-docs.foreach.be/across-site/production/entity-module/3.2.0/customizing-entities/entity-views.html#customize-page-layout)
*  [Message codes](https://across-docs.foreach.be/across-site/production/entity-module/4.0.0-dev/services-and-components/message-codes.html)
*  [Wijzigen menu items](https://across-docs.foreach.be/across-site/production/across/2.1.2/across-web/web-views/working-with-menus.html)
----

### Oplossing

Booking controller:

EntityProperty configurer
```java
entities.withType(Booking.class)
        .listView(lvb -> lvb
                .showProperties(".", "~ticketType")
                .defaultSort(new Sort(Sort.Direction.DESC, "created"))
        )
        .updateFormView(uvb -> uvb.properties(props ->
                        props.property("created").writable(false)
                )
                        .showProperties("*", "created")
        )
        .createFormView(cvb -> cvb.properties(props ->
                props.property("created")
                        .attribute(EntityAttributes.PROPERTY_REQUIRED, true)
        )).attribute(EntityAttributes.LINK_TO_DETAIL_VIEW, true);
```

Menu
```java
@EventListener
public void adminMenu( AdminMenuEvent menuEvent ) {
    menuEvent.builder()
             .changeItemPath( "/entities/BookingApplicationModule", "bookingApplicationModule" );
}
```

Message codes
```java
BookingApplicationModule.entities.booking.properties.name=Name of buyer
BookingApplicationModule.entities.booking.properties.ticketType[description]=Selecting a different ticket type may incur a price raise.
BookingApplicationModule.entities.views[createView].properties.created[tooltip]=Date and time when the booking was requested.
BookingApplicationModule.entities.booking.properties.email[placeholder]=Enter a valid email address.
BookingApplicationModule.entities.booking.pageTitle.list=Booking overview
BookingApplicationModule.entities.booking.adminMenu.general=Details
BookingApplicationModule.adminMenu=Studio Across
```