## Oefening 15
### Een list view customizen 

Voeg row highlighting toe op de overzichtspagina van `Booking`.

Gebruik volgende kleuren:
* rood indien de factuur verstuurd maar niet betaald is
* groen indien de factuur betaald is
* oranje indien geannuleerd

----

### Revelante documentatie

* [Building views](https://across-docs.foreach.be/across-site/production/entity-module/3.2.0/building-views/index.html#_dispatchingentityviewfactory_and_entityviewprocessor)
* [SortableTableViewProcessor](https://across-docs.foreach.be/across-site/production/entity-module/3.2.0/services-and-components/default-entityviewprocessors.html)
* [Change row in sortableTableViewProcessor](https://across-docs.foreach.be/across-site/production/entity-module/3.2.0/guides/list-view/adding-a-custom-action-to-a-listview.html)

----

### Oplossing

```java
entities.withType(Booking.class)
    .listView(lvb -> lvb
        .viewProcessor(new EntityViewProcessorAdapter() {
            @Override
            protected void createViewElementBuilders(EntityViewRequest entityViewRequest, EntityView entityView, ViewElementBuilderMap builderMap) {
                builderMap.get(SortableTableRenderingViewProcessor.TABLE_BUILDER, SortableTableBuilder.class)
                    .valueRowProcessor((builderContext, row) -> {
                        Booking booking = EntityViewElementUtils.currentEntity( builderContext, Booking.class );

                        if (booking.getNumberOfTickets() > 4) {
                            row.setStyle(Style.DANGER);
                        }
                    });
            }
        })
    );
```